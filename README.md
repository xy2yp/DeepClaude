<div>
<h1>DeepClaude ğŸ¬ğŸ§  - OpenAI Compatibleï¼ˆdeepclaude & deepgeminiï¼‰</h1>

<a href="https://github.com/getasterisk/deepclaude"> Inspiration from getasterisk/deepclaude</a>

[![GitHub license](https://img.erlich.fun/personal-blog/uPic/deepclaude.svg)](#)
[![Compatible with](https://img.shields.io/badge/-ChatGPT-412991?style=flat-square&logo=openai&logoColor=FFFFFF)](https://openai.com)

</div>

<div>
<h4 style="color: #FF9909"> ç‰¹åˆ«è¯´æ˜ï¼š
<br />
1.ç¼–ç¨‹ï¼šæ¨è DeepSeek r1 + Claude 3.5 Sonnet ç»„åˆï¼Œæ•ˆæœæœ€å¥½ï¼›
2.å†…å®¹åˆ›ä½œï¼šæ¨è DeepSeek r1 + Gemini 2.0 Flash æˆ– Gemini 2.0 Pro ç»„åˆï¼Œæ•ˆæœæœ€å¥½ï¼Œå¹¶ä¸”å¯ä»¥å®Œå…¨å…è´¹ä½¿ç”¨ã€‚
<br />
å¯¹äºä¸å¤ªä¼šéƒ¨ç½²ï¼Œåªæ˜¯å¸Œæœ›ä½¿ç”¨ä¸Šæœ€å¼ºç»„åˆæ¨¡å‹çš„æœ‹å‹ï¼Œå¯ä»¥ç›´æ¥è®¿é—® Erlich ä¸ªäººç½‘ç«™è‡ªåŠ©è´­ä¹°æŒ‰é‡ä»˜è´¹çš„ APIï¼šhttps://erlich.fun/deepclaude-pricing
ä¹Ÿå¯ä»¥ç›´æ¥è”ç³» Erlichï¼ˆå¾®ä¿¡å·ï¼šerlichliu1ï¼‰</h4>
</div>

<details>
<summary><strong> èµåŠ©å•†ï¼šé—®å°ç™½ https://www.wenxiaobai.com ï¼ˆä¸æ»‘ä½¿ç”¨ DeepSeek r1 æ»¡è¡€ç‰ˆï¼Œ æ”¯æŒè”ç½‘ã€ä¸Šä¼ æ–‡ä»¶ã€å›¾ç‰‡ã€AI åˆ›ä½œ PPT ç­‰ï¼‰</strong></summary>
<div>
<img src="https://img.erlich.fun/personal-blog/uPic/vVXyGq.png" />
<img src="https://img.erlich.fun/personal-blog/uPic/SIU8qx.png" />
</div>
</details>

---

<details>
<summary><strong>æ›´æ–°æ—¥å¿—ï¼š</strong></summary> 
<div>
2025-02-25.1: æ·»åŠ  system message å¯¹äº Claude 3.5 Sonnet çš„æ”¯æŒ

2025-02-23.1: é‡æ„ä»£ç ï¼Œæ”¯æŒ OpenAI å…¼å®¹æ¨¡å‹ï¼Œdeepgeminiflash å’Œ deepgeminipro é…ç½®æ›´æ–¹ä¾¿ï¼ˆè¯·è¯¦ç»†æŸ¥çœ‹ READEME å’Œ .env.example å†…çš„è¯´æ˜ï¼‰ã€‚

2025-02-21.1: æ·»åŠ  Claude è¿™æ®µçš„è¯¦ç»†æ•°æ®ç»“æ„å®‰å…¨æ£€æŸ¥ã€‚

2025-02-16.1: æ”¯æŒ claude ä¾§é‡‡ç”¨è¯·æ±‚ä½“ä¸­çš„è‡ªå®šä¹‰æ¨¡å‹åç§°ã€‚ï¼ˆå¦‚æœä½ é‡‡ç”¨ oneapi ç­‰ä¸­è½¬æ–¹ï¼Œé‚£ä¹ˆç°åœ¨å¯ä»¥é€šè¿‡é…ç½®ç¯å¢ƒå˜é‡æˆ–åœ¨ API è¯·æ±‚ä¸­é‡‡ç”¨ä»»ä½• Gemini ç­‰æ¨¡å‹å®ŒæˆååŠéƒ¨åˆ†ã€‚æ¥ä¸‹æ¥å°†é‡æ„ä»£ç ï¼Œæ›´æ¸…æ™°åœ°æ”¯æŒä¸åŒçš„æ€è€ƒæ¨¡å‹ç»„åˆã€‚ï¼‰

2025-02-08.2: æ”¯æŒéæµå¼è¯·æ±‚ï¼Œæ”¯æŒ OpenAI å…¼å®¹çš„ models æ¥å£è¿”å›ã€‚ï¼ˆâš ï¸ å½“å‰æš‚æœªå®ç°æ­£ç¡®çš„ tokens æ¶ˆè€—ç»Ÿè®¡ï¼Œç¨åæ›´æ–°ï¼‰

2025-02-08.1: æ·»åŠ  Github Actionsï¼Œæ”¯æŒ fork è‡ªåŠ¨åŒæ­¥ã€æ”¯æŒè‡ªåŠ¨æ„å»º Docker æœ€æ–°é•œåƒã€æ”¯æŒ docker-compose éƒ¨ç½²

2025-02-07.2: ä¿®å¤ Claude temperature å‚æ•°å¯èƒ½ä¼šè¶…è¿‡èŒƒå›´å¯¼è‡´çš„è¯·æ±‚å¤±è´¥çš„ bug

2025-02-07.1: æ”¯æŒ Claude temputerature ç­‰å‚æ•°ï¼›æ·»åŠ æ›´è¯¦ç»†çš„ .env.example è¯´æ˜

2025-02-06.1ï¼šä¿®å¤éåŸç”Ÿæ¨ç†æ¨¡å‹æ— æ³•è·å¾—åˆ°æ¨ç†å†…å®¹çš„ bug

2025-02-05.1: æ”¯æŒé€šè¿‡ç¯å¢ƒå˜é‡é…ç½®æ˜¯å¦æ˜¯åŸç”Ÿæ”¯æŒæ¨ç†å­—æ®µçš„æ¨¡å‹ï¼Œæ»¡è¡€ç‰ˆæœ¬é€šå¸¸æ”¯æŒ

2025-02-04.2: æ”¯æŒè·¨åŸŸé…ç½®ï¼Œå¯åœ¨ .env ä¸­é…ç½®

2025-02-04.1: æ”¯æŒ Openrouter ä»¥åŠ OneAPI ç­‰ä¸­è½¬æœåŠ¡å•†ä½œä¸º Claude éƒ¨åˆ†çš„ä¾›åº”å•†

2025-02-03.3: æ”¯æŒ OpenRouter ä½œä¸º Claude çš„ä¾›åº”å•†ï¼Œè¯¦è§ .env.example è¯´æ˜

2025-02-03.2: ç”±äº deepseek r1 åœ¨æŸç§ç¨‹åº¦ä¸Šå·²ç»å¼€å¯äº†ä¸€ä¸ªè§„èŒƒï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿéµå¾ªæ¨ç†æ ‡æ³¨çš„è¿™ç§è§„èŒƒï¼Œæ›´å¥½é€‚é…æ”¯æŒçš„æ›´å¥½çš„ Cherry Studio ç­‰è½¯ä»¶ã€‚

2025-02-03.1: Siliconflow çš„ DeepSeek R1 è¿”å›ç»“æ„å˜æ›´ï¼Œæ”¯æŒæ–°çš„è¿”å›ç»“æ„

</div>
</details>

# ç®€ä»‹
æœ€è¿‘ DeepSeek æ¨å‡ºäº† [DeepSeek R1 æ¨¡å‹](https://platform.deepseek.com)ï¼Œåœ¨æ¨ç†èƒ½åŠ›ä¸Šå·²ç»è¾¾åˆ°äº†ç¬¬ä¸€æ¢¯é˜Ÿã€‚ä½†æ˜¯ DeepSeek R1 åœ¨ä¸€äº›æ—¥å¸¸ä»»åŠ¡çš„è¾“å‡ºä¸Šå¯èƒ½ä»ç„¶æ— æ³•åŒ¹æ•Œ Claude 3.5 Sonnetã€‚Aider å›¢é˜Ÿæœ€è¿‘æœ‰ä¸€ç¯‡ç ”ç©¶ï¼Œè¡¨ç¤ºé€šè¿‡[é‡‡ç”¨ DeepSeek R1 + Claude 3.5 Sonnet å¯ä»¥å®ç°æœ€å¥½çš„æ•ˆæœ](https://aider.chat/2025/01/24/r1-sonnet.html)ã€‚

<img src="https://img.erlich.fun/personal-blog/uPic/heiQYX.png" alt="deepseek r1 and sonnet benchmark" style="width=400px;"/>

> **R1 as architect with Sonnet as editor has set a new SOTA of 64.0%** on the [aider polyglot benchmark](https://aider.chat/2024/12/21/polyglot.html). They achieve this at **14X less cost** compared to the previous o1 SOTA result.

æœ¬é¡¹ç›®å—åˆ°è¯¥é¡¹ç›®çš„å¯å‘ï¼Œé€šè¿‡ fastAPI å®Œå…¨é‡å†™ï¼Œç»è¿‡ 15 å¤©å¤§é‡ç¤¾åŒºç”¨æˆ·çš„çœŸå®æµ‹è¯•ï¼Œæˆ‘ä»¬åˆ›ä½œäº†ä¸€äº›æ–°çš„ç»„åˆä½¿ç”¨æ–¹æ¡ˆã€‚

**1.ç¼–ç¨‹ï¼šæ¨èä½¿ç”¨ deepclaude = deepseek r1 + claude 3.5 sonnet;
2.å†…å®¹åˆ›ä½œï¼šæ¨èä½¿ç”¨ deepgeminipro = deepseek r1 + gemini 2.0 pro (è¯¥æ–¹æ¡ˆå¯ä»¥å®Œå…¨å…è´¹ä½¿ç”¨);
3.æ—¥å¸¸å®éªŒï¼šæ¨è deepgeminiflash = deepseek r1 + gemini 2.0 flash (è¯¥æ–¹æ¡ˆå¯ä»¥å®Œå…¨å…è´¹ä½¿ç”¨)ã€‚**

é¡¹ç›®**æ”¯æŒ OpenAI å…¼å®¹æ ¼å¼çš„è¾“å…¥è¾“å‡º**ï¼Œæ”¯æŒ DeepSeek å®˜æ–¹ API ä»¥åŠç¬¬ä¸‰æ–¹æ‰˜ç®¡çš„ APIã€ç”Ÿæˆéƒ¨åˆ†ä¹Ÿæ”¯æŒ Claude å®˜æ–¹ API ä»¥åŠä¸­è½¬ APIï¼Œå¹¶å¯¹ OpenAI å…¼å®¹æ ¼å¼çš„å…¶ä»– Model åšäº†ç‰¹åˆ«æ”¯æŒã€‚

**ğŸ”¥æ¨èä½¿ç”¨æ–¹æ³•ï¼š**
1.ç”¨æˆ·å¯ä»¥è‡ªè¡Œè¿è¡Œåœ¨è‡ªå·±çš„æœåŠ¡å™¨ï¼Œå¹¶å¯¹å¤–æä¾›å¼€æ”¾ API æ¥å£ï¼Œæ¥å…¥ [OneAPI](https://github.com/songquanpeng/one-api) ç­‰å®ç°ç»Ÿä¸€åˆ†å‘ã€‚

2.æ¥å…¥ä½ çš„æ—¥å¸¸å¤§è¯­è¨€æ¨¡å‹å¯¹è¯èŠå¤©ä½¿ç”¨ã€‚

# Implementation

![image-20250201212456050](https://img.erlich.fun/personal-blog/uPic/image-20250201212456050.png)

# How to run

> é¡¹ç›®æ”¯æŒæœ¬åœ°è¿è¡Œå’ŒæœåŠ¡å™¨è¿è¡Œï¼Œæ¨èä½¿ç”¨æœåŠ¡å™¨éƒ¨ç½²ï¼Œå®ç°éšæ—¶éšå¤„å¯è®¿é—®çš„æœ€å¼ºå¤§è¯­è¨€æ¨¡å‹æœåŠ¡ï¼Œç”šè‡³å¯ä»¥å®Œå…¨å…è´¹ä½¿ç”¨ã€‚

## 1. è·å¾—è¿è¡Œæ‰€éœ€çš„ API

1. è·å– DeepSeek APIï¼Œå› ä¸ºæœ€è¿‘ DeepSeek å®˜æ–¹çš„ä¾›åº”èƒ½é‡Œä¸è¶³ï¼Œæ‰€ä»¥ç»å¸¸æ— æ³•ä½¿ç”¨ï¼Œä¸æ¨èã€‚ç›®å‰æ›´æ¨èä½¿ç”¨æ´¾æ¬§ç®—åŠ›äº‘çš„ DeepSeek r1ï¼Œå› ä¸ºæˆ‘ä»¬å¯¹æ€ç»´é“¾çš„å‡†ç¡®æ€§è¦æ±‚å¾ˆé«˜ï¼Œæ´¾æ¬§ç®—åŠ›äº‘çš„å‡†ç¡®æ€§æ˜¯ç›®å‰æœ€å¥½çš„ã€‚å¹¶ä¸”èµ é€çš„é¢åº¦ä¹Ÿæ˜¯æœ€å¤šçš„ï¼Œé€šè¿‡æˆ‘çš„é‚€è¯·ç æ³¨å†Œå¯ä»¥è·å¾— 50 å…ƒï¼Œå¯ä»¥ç‚¹å‡»é“¾æ¥æ³¨å†Œï¼šhttps://ppinfra.com/user/register?invited_by=TXTPQF æˆ–è€…æ‰«ç æ³¨å†Œï¼š![æ´¾æ¬§ç®—åŠ›äº‘é‚€è¯·é“¾æ¥](https://img.erlich.fun/personal-blog/uPic/ppinfra-invite-poster.png)
2. è·å– Claude çš„ API KEYï¼šhttps://console.anthropic.comã€‚(ä¹Ÿå¯é‡‡ç”¨å…¶ä»–ä¸­è½¬æœåŠ¡ï¼Œå¦‚ Openrouter ä»¥åŠå…¶ä»–æœåŠ¡å•†çš„ API KEY)
3. è·å– Gemini çš„ API KEYï¼šhttps://aistudio.google.com/apikey (æœ‰å…è´¹çš„é¢åº¦ï¼Œæ—¥å¸¸å¤Ÿç”¨)

## 2. å¼€å§‹è¿è¡Œï¼ˆæœ¬åœ°è¿è¡Œï¼‰

Step 1. å…‹éš†æœ¬é¡¹ç›®åˆ°é€‚åˆçš„æ–‡ä»¶å¤¹å¹¶è¿›å…¥é¡¹ç›®

```bash
git clone https://github.com/ErlichLiu/DeepClaude.git
cd DeepClaude
```

Step 2. é€šè¿‡ uv å®‰è£…ä¾èµ–ï¼ˆå¦‚æœä½ è¿˜æ²¡æœ‰å®‰è£… uvï¼Œè¯·çœ‹ä¸‹æ–¹æ³¨è§£ï¼‰

```bash
# é€šè¿‡ uv åœ¨æœ¬åœ°åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼Œå¹¶å®‰è£…ä¾èµ–
uv sync
# macOS æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source .venv/bin/activate
# Windows æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
.venv\Scripts\activate
```

Step 3. é…ç½®ç¯å¢ƒå˜é‡
```bash
# å¤åˆ¶ .env ç¯å¢ƒå˜é‡åˆ°æœ¬åœ°
cp .env.example .env
```

Step 4. æŒ‰ç…§ç¯å¢ƒå˜é‡å½“ä¸­çš„æ³¨é‡Šä¾æ¬¡å¡«å†™é…ç½®ä¿¡æ¯
```bash
# æ­¤å¤„ä¸ºå„ä¸ªç¯å¢ƒå˜é‡çš„è§£é‡Š
ALLOW_API_KEY=ä½ å…è®¸å‘ä½ æœ¬åœ°æˆ–æœåŠ¡å™¨å‘èµ·è¯·æ±‚æ‰€éœ€çš„ API å¯†é’¥ï¼Œå¯éšæ„è®¾ç½®
DEEPSEEK_API_KEY=deepseek r1 æ‰€éœ€çš„ API å¯†é’¥ï¼Œå¯åœ¨ğŸ‘†ä¸Šé¢æ­¥éª¤ 1 å¤„è·å–
DEEPSEEK_API_URL=è¯·æ±‚ deepseek r1 æ‰€éœ€çš„è¯·æ±‚åœ°å€ï¼Œæ ¹æ®ä½ çš„ä¾›åº”å•†è¯´æ˜è¿›è¡Œå¡«å†™
DEEPSEEK_MODEL=ä¸åŒä¾›åº”å•†çš„ deepseek r1 æ¨¡å‹åç§°ä¸åŒï¼Œæ ¹æ®ä½ çš„ä¾›åº”å•†è¯´æ˜è¿›è¡Œå¡«å†™
IS_ORIGIN_REASONING=æ˜¯å¦åŸç”Ÿæ”¯æŒæ¨ç†ï¼Œåªæœ‰æ»¡è¡€ç‰ˆ 671B çš„ deepseek r1 æ”¯æŒï¼Œå…¶ä½™è’¸é¦æ¨¡å‹ä¸æ”¯æŒ

CLAUDE_API_KEY=Claude 3.5 Sonnet çš„ API å¯†é’¥ï¼Œå¯åœ¨ğŸ‘†ä¸Šé¢æ­¥éª¤ 1 å¤„è·å–
CLAUDE_MODEL=Claude 3.5 Sonnet çš„æ¨¡å‹åç§°ï¼Œä¸åŒä¾›åº”å•†çš„åç§°ä¸åŒï¼Œæ ¹æ®ä½ çš„ä¾›åº”å•†è¯´æ˜è¿›è¡Œå¡«å†™
CLAUDE_PROVIDER=æ”¯æŒ anthropic (å®˜æ–¹) ä»¥åŠ oneapiï¼ˆå…¶ä»–ä¸­è½¬æœåŠ¡å•†ï¼‰ä¸¤ç§æ¨¡å¼ï¼Œæ ¹æ®ä½ çš„ä¾›åº”å•†å¡«å†™
CLAUDE_API_URL=è¯·æ±‚ Claude 3.5 Sonnet æ‰€éœ€çš„è¯·æ±‚åœ°å€ï¼Œæ ¹æ®ä½ çš„ä¾›åº”å•†è¯´æ˜è¿›è¡Œå¡«å†™

OPENAI_COMPOSITE_API_KEY=é€šå¸¸æ¨èé…ç½®ä¸º Gemini çš„ API å¯†é’¥ï¼Œå¯åœ¨ğŸ‘†ä¸Šé¢æ­¥éª¤ 1 å¤„è·å–
OPENAI_COMPOSITE_API_URL=è¯·æ±‚ Gemini æ‰€éœ€çš„è¯·æ±‚åœ°å€ï¼Œé»˜è®¤åœ°å€ä¸º https://generativelanguage.googleapis.com/v1beta/openai/chat/completions
OPENAI_COMPOSITE_MODEL=é€šå¸¸æ¨èé…ç½®ä¸º Gemini çš„æ¨¡å‹åç§°ï¼Œå¯é…ç½®ä¸º gemini-2.0-flash æˆ– gemini-2.0-pro-expï¼ˆpro ç‰ˆæœ¬å½“å‰ä¸ºå®éªŒæ¨¡å‹ï¼‰

```

Step 5. é€šè¿‡å‘½ä»¤è¡Œå¯åŠ¨
```bash
# æœ¬åœ°è¿è¡Œ
uvicorn app.main:app
```

Step 6. é…ç½®ç¨‹åºåˆ°ä½ çš„ Chatboxï¼ˆæ¨è [Cherry Studio](https://cherry-ai.com) [NextChat](https://nextchat.dev/)ã€[ChatBox](https://chatboxai.app/zh)ã€[LobeChat](https://lobechat.com/)ï¼‰

```bash
# å¦‚æœä½ çš„å®¢æˆ·ç«¯æ˜¯ Cherry Studioã€Chatboxï¼ˆOpenAI API æ¨¡å¼ï¼Œæ³¨æ„ä¸æ˜¯ OpenAI å…¼å®¹æ¨¡å¼ï¼‰
# API åœ°å€ä¸º http://127.0.0.1:8000
# API å¯†é’¥ä¸ºä½ åœ¨ ENV ç¯å¢ƒå˜é‡å†…è®¾ç½®çš„ ALLOW_API_KEY
# éœ€è¦æ‰‹åŠ¨é…ç½®ä¸¤ä¸ªæ¨¡å‹ï¼Œæ¨¡å‹åä¸º deepclaude å’Œ deepgemini

# å¦‚æœä½ çš„å®¢æˆ·ç«¯æ˜¯ LobeChat
# API åœ°å€ä¸ºï¼šhttp://127.0.0.1:8000/v1
# API å¯†é’¥ä¸ºä½ åœ¨ ENV ç¯å¢ƒå˜é‡å†…è®¾ç½®çš„ ALLOW_API_KEY
# æ”¯æŒè·å–æ¨¡å‹åˆ—è¡¨ï¼Œå¯ä»¥åŒæ—¶è·å–åˆ° deepclaude æ¨¡å‹å’Œ deepgemini æ¨¡å‹

```

**æ³¨ï¼šæœ¬é¡¹ç›®é‡‡ç”¨ uv ä½œä¸ºåŒ…ç®¡ç†å™¨ï¼Œè¿™æ˜¯ä¸€ä¸ªæ›´å¿«é€Ÿæ›´ç°ä»£çš„ç®¡ç†æ–¹å¼ï¼Œç”¨äºæ›¿ä»£ pipï¼Œä½ å¯ä»¥[åœ¨æ­¤äº†è§£æ›´å¤š](https://docs.astral.sh/uv/)**

# éƒ¨ç½²åˆ°æœåŠ¡å™¨

> é¡¹ç›®æ”¯æŒ Docker æœåŠ¡å™¨éƒ¨ç½²ï¼Œå¯è‡ªè¡Œè°ƒç”¨æ¥å…¥å¸¸ç”¨çš„ Chatboxï¼Œä¹Ÿå¯ä»¥ä½œä¸ºæ¸ é“ä¸€ç›´ï¼Œå°†å…¶è§†ä¸ºä¸€ä¸ªç‰¹æ®Šçš„ `DeepClaude`æ¨¡å‹æ¥å…¥åˆ° [OneAPI](https://github.com/songquanpeng/one-api) ç­‰äº§å“ä½¿ç”¨ã€‚

## Railway ä¸€é”®éƒ¨ç½²ï¼ˆæ¨èï¼‰
<details>
<summary><strong>ä¸€é”®éƒ¨ç½²åˆ° Railway</strong></summary> 

<div>
1. é¦–å…ˆ fork ä¸€ä»½ä»£ç ã€‚

2. ç‚¹å‡»æ‰“å¼€ Railway ä¸»é¡µï¼šhttps://railway.com?referralCode=RNTGCA
   
3. ç‚¹å‡» `Deploy a new project`
![image-20250209164454358](https://img.erlich.fun/personal-blog/uPic/image-20250209164454358.png)

4. ç‚¹å‡» `Deploy from GitHub repo`
![image-20250209164638713](https://img.erlich.fun/personal-blog/uPic/image-20250209164638713.png)

5. ç‚¹å‡» `Login with GitHub`
![image-20250209164843566](https://img.erlich.fun/personal-blog/uPic/image-20250209164843566.png)

6. é€‰æ‹©å‡çº§ï¼Œé€‰æ‹©åªéœ€ 5 ç¾é‡‘çš„ Hobby Plan å³å¯ 
![image-20250209165034070](https://img.erlich.fun/personal-blog/uPic/image-20250209165034070.png)
![image-20250209165108355](https://img.erlich.fun/personal-blog/uPic/image-20250209165108355.png)

1. ç‚¹å‡» `Create a New Project`
![create-a-new-project](https://img.erlich.fun/personal-blog/uPic/rvfGTE.png)

1. ç»§ç»­é€‰æ‹© `Deploy from GitHub repo`
![image-20250209164638713](https://img.erlich.fun/personal-blog/uPic/image-20250209164638713.png)

1. è¾“å…¥æ¡†å†…æœç´¢`DeepClaude`ï¼Œé€‰ä¸­åç‚¹å‡»ã€‚
![deploy-from-github-repo](https://img.erlich.fun/personal-blog/uPic/ihOzXU.png)

1.  é€‰æ‹©`Variable`ï¼Œå¹¶ç‚¹å‡»`New Variable` æŒ‰é’®ï¼ŒæŒ‰ç…§ç¯å¢ƒå˜é‡å†…çš„é”®å€¼å¯¹è¿›è¡Œå¡«å†™
![variable](https://img.erlich.fun/personal-blog/uPic/VrZgxp.png)

1.  å¡«å†™å®Œæˆåé‡æ–°ç‚¹å‡» `Deploy` æŒ‰é’®ï¼Œç­‰å¾…æ•°ç§’åå³å¯å®Œæˆéƒ¨ç½²
![deploy](https://img.erlich.fun/personal-blog/uPic/5kvkLI.png)

1.  éƒ¨ç½²å®Œæˆåï¼Œç‚¹å‡» `Settings` æŒ‰é’®ï¼Œç„¶åå‘ä¸‹æŸ¥çœ‹åˆ° `Networking` åŒºåŸŸï¼Œç„¶åé€‰æ‹© `Generate Domain`ï¼Œå¹¶è¾“å…¥ `8000` ä½œä¸ºç«¯å£å·
![networking](https://img.erlich.fun/personal-blog/uPic/PQyAtG.png)
![generate-domain](https://img.erlich.fun/personal-blog/uPic/i5JnX8.png)
![port](https://img.erlich.fun/personal-blog/uPic/ZEwxRm.png)

1.  æ¥ä¸‹æ¥å°±å¯ä»¥åœ¨ä½ å–œæ¬¢çš„ Chatbox å†…é…ç½®ä½¿ç”¨æˆ–ä½œä¸º API ä½¿ç”¨äº†
![using](https://img.erlich.fun/personal-blog/uPic/hD8V6e.png)

æ³¨ï¼šæ¨¡å‹åç§°ä¸º deepclaude å’Œ deepgemini

</div>
</details>

## ä½¿ç”¨ docker-compose éƒ¨ç½²ï¼ˆDocker é•œåƒå°†éšç€ main åˆ†æ”¯è‡ªåŠ¨æ›´æ–°åˆ°æœ€æ–°ï¼‰

   æ¨èå¯ä»¥ä½¿ç”¨ `docker-compose.yml` æ–‡ä»¶è¿›è¡Œéƒ¨ç½²ï¼Œæ›´åŠ æ–¹ä¾¿å¿«æ·ã€‚

   1. ç¡®ä¿å·²å®‰è£… Docker Composeã€‚
   2. å¤åˆ¶ `docker-compose.yml` æ–‡ä»¶åˆ°é¡¹ç›®æ ¹ç›®å½•ã€‚
   3. ä¿®æ”¹ `docker-compose.yml` æ–‡ä»¶ä¸­çš„ç¯å¢ƒå˜é‡é…ç½®ï¼Œå°† `your_allow_api_key`ï¼Œ`your_allow_origins`ï¼Œ`your_deepseek_api_key` å’Œ `your_claude_api_key` ç­‰å€¼æ›¿æ¢ä¸ºä½ çš„å®é™…é…ç½®ã€‚
   4. åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œ Docker Compose å‘½ä»¤å¯åŠ¨æœåŠ¡ï¼š

      ```bash
      docker-compose up -d
      ```

   æœåŠ¡å¯åŠ¨åï¼ŒDeepClaude API å°†åœ¨ `http://å®¿ä¸»æœºIP:8000/v1/chat/completions` ä¸Šè¿›è¡Œè®¿é—®ã€‚
   5. æ¨¡å‹åç§°ä¸º deepclaude å’Œ deepgemini

## Docker éƒ¨ç½²ï¼ˆè‡ªè¡Œ Buildï¼‰

1. **æ„å»º Docker é•œåƒ**

   åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œä½¿ç”¨ Dockerfile æ„å»ºé•œåƒã€‚è¯·ç¡®ä¿å·²ç»å®‰è£… Docker ç¯å¢ƒã€‚

   ```bash
   docker build -t deepclaude:latest .
   ```

2. **è¿è¡Œ Docker å®¹å™¨**

   è¿è¡Œæ„å»ºå¥½çš„ Docker é•œåƒï¼Œå°†å®¹å™¨çš„ 8000 ç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœºçš„ 8000 ç«¯å£ã€‚åŒæ—¶ï¼Œé€šè¿‡ `-e` å‚æ•°è®¾ç½®å¿…è¦çš„ç¯å¢ƒå˜é‡ï¼ŒåŒ…æ‹¬ API å¯†é’¥ã€å…è®¸çš„åŸŸåç­‰ã€‚è¯·æ ¹æ® `.env.example` æ–‡ä»¶ä¸­çš„è¯´æ˜é…ç½®ç¯å¢ƒå˜é‡ã€‚

   ```bash
   docker run -d \
       -p 8000:8000 \
       -e ALLOW_API_KEY=your_allow_api_key \
       -e ALLOW_ORIGINS="*" \
       -e DEEPSEEK_API_KEY=your_deepseek_api_key \
       -e DEEPSEEK_API_URL=https://api.deepseek.com/v1/chat/completions \
       -e DEEPSEEK_MODEL=deepseek-reasoner \
       -e IS_ORIGIN_REASONING=true \
       -e CLAUDE_API_KEY=your_claude_api_key \
       -e CLAUDE_MODEL=claude-3-5-sonnet-20241022 \
       -e CLAUDE_PROVIDER=anthropic \
       -e CLAUDE_API_URL=https://api.anthropic.com/v1/messages \
       -e OPENAI_COMPOSITE_API_KEY=your_gemini_api_key
       -e OPENAI_COMPOSITE_API_URL=https://generativelanguage.googleapis.com/v1beta/openai/chat/completions
       -e OPENAI_COMPOSITE_MODEL=gemini-2.0-flash
       -e LOG_LEVEL=INFO \
       --restart always \
       deepclaude:latest
   ```

   è¯·æ›¿æ¢ä¸Šè¿°å‘½ä»¤ä¸­çš„ `your_allow_api_key`ï¼Œ`your_allow_origins`ï¼Œ`your_deepseek_api_key` å’Œ `your_claude_api_key` ä¸ºä½ å®é™…çš„ API å¯†é’¥å’Œé…ç½®ã€‚`ALLOW_ORIGINS` è¯·è®¾ç½®ä¸ºå…è®¸è®¿é—®çš„åŸŸåï¼Œå¦‚ `"http://localhost:3000,https://chat.example.com"` æˆ– `"*"` è¡¨ç¤ºå…è®¸æ‰€æœ‰æ¥æºã€‚

   # Automatic fork sync
é¡¹ç›®å·²ç»æ”¯æŒ Github Actions è‡ªåŠ¨æ›´æ–° fork é¡¹ç›®çš„ä»£ç ï¼Œä¿æŒä½ çš„ fork ç‰ˆæœ¬ä¸å½“å‰ main åˆ†æ”¯ä¿æŒä¸€è‡´ã€‚å¦‚éœ€å¼€å¯ï¼Œè¯· frok ååœ¨ Settings ä¸­å¼€å¯ Actions æƒé™å³å¯ã€‚


# Technology Stack
- [FastAPI](https://fastapi.tiangolo.com/)
- [UV as package manager](https://docs.astral.sh/uv/#project-management)
- [Docker](https://www.docker.com/)

# Star History

[![Star History Chart](https://api.star-history.com/svg?repos=ErlichLiu/DeepClaude&type=Date)](https://star-history.com/#ErlichLiu/DeepClaude&Date)

# Buy me a coffee
<img src="https://img.erlich.fun/personal-blog/uPic/IMG_3625.JPG" alt="å¾®ä¿¡èµèµç " style="width: 400px;"/>

# About Me
- Email: erlichliu@gmail.com
- Website: [Erlichliu](https://erlich.fun)